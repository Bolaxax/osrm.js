!function(t){"object"==typeof exports?module.exports=t():"function"==typeof define&&define.amd?define(t):"undefined"!=typeof window?window.osrm=t():"undefined"!=typeof global?global.osrm=t():"undefined"!=typeof self&&(self.osrm=t())}(function(){return function t(n,e,o){function r(s,u){if(!e[s]){if(!n[s]){var f="function"==typeof require&&require;if(!u&&f)return f(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+s+"'")}var a=e[s]={exports:{}};n[s][0].call(a.exports,function(t){var e=n[s][1][t];return r(e?e:t)},a,a.exports,t,n,e,o)}return e[s].exports}for(var i="function"==typeof require&&require,s=0;s<o.length;s++)r(o[s]);return r}({1:[function(t,n){function e(t,n,e){function o(t){return t>=200&&300>t||304===t}function r(){void 0===u.status||o(u.status)?n.call(u,null,u):n.call(u,u,null)}var i=!1;if("undefined"==typeof window.XMLHttpRequest)return n(Error("Browser not supported"));if("undefined"==typeof e){var s=t.match(/^\s*https?:\/\/[^\/]*/);e=s&&s[0]!==location.protocol+"//"+location.domain+(location.port?":"+location.port:"")}var u=new window.XMLHttpRequest;if(e&&!("withCredentials"in u)){u=new window.XDomainRequest;var f=n;n=function(){if(i)f.apply(this,arguments);else{var t=this,n=arguments;setTimeout(function(){f.apply(t,n)},0)}}}return"onload"in u?u.onload=r:u.onreadystatechange=function(){4===u.readyState&&r()},u.onerror=function(t){n.call(this,t||!0,null),n=function(){}},u.onprogress=function(){},u.ontimeout=function(t){n.call(this,t,null),n=function(){}},u.onabort=function(t){n.call(this,t,null),n=function(){}},u.open("GET",t,!0),u.send(null),i=!0,u}"undefined"!=typeof n&&(n.exports=e)},{}],2:[function(t,n){function e(t){this._url=t||"//router.project-osrm.org",this._lastSend=0,this._lastReceived=0}var o=t("corslite");e.prototype={_formatLocs:function(t){return"loc="+t.map(function(t){return t[0]+","+t[1]}).join("&loc=")},_formatStampedLocs:function(t,n){var e=t.map(function(t,e){return[t[0]+","+t[1],n[e]]});return"loc="+e.map(function(t){return t.join("&t=")}).join("&loc=")},_onResponse:function(t,n,e){if(t)return void e(t);var o=JSON.parse(n.responseText);e(null,o)},_request:function(t,n,e){var r=this._url+"/"+t+"?"+n,i=this._lastSend++;o(r,function(t,n){i<this._lastReceived||(this._lastReceived=i,this._onResponse(t,n,e))}.bind(this))},locate:function(t,n){this._request("locate",this._formatLocs([t]),n)},nearest:function(t,n){this._request("nearest",this._formatLocs([t]),n)},match:function(t,n,e){n?(n.length!=t.length&&e(new Error("Invalid number of timestamps! Is "+n.length+" should be: "+t.length)),this._request("match",this._formatStampedLocs(t,n),e)):this._request("match",this._formatLocs(t),e)},route:function(t,n){this._request("viaroute",this._formatLocs(t),n)},table:function(t,n){this._request("table",this._formatLocs(t),n)}},"undefined"!=typeof n&&(n.exports=e)},{corslite:1}],3:[function(t,n){var e=t("./client.js");"undefined"!=typeof n&&(n.exports=e)},{"./client.js":2}]},{},[3])(3)});